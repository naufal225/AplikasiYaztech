window.addEventListener("resize",function(){window.innerWidth>=1024&&(sidebarOverlay.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))});let d=null;document.addEventListener("DOMContentLoaded",function(){u()});function u(){const e=document.querySelectorAll(".delete-customer-btn"),t=document.querySelectorAll("#cancelDeleteButton");e.forEach(n=>{n.addEventListener("click",function(){const i=this.getAttribute("data-customer-id"),s=this.getAttribute("data-customer-name");r(i,s)})});const o=document.querySelector("#deleteConfirmModal .bg-gray-500");o&&o.addEventListener("click",l);const c=document.getElementById("confirmDeleteBtn");c&&c.addEventListener("click",m),t.forEach(n=>{n.addEventListener("click",l)})}function r(e,t){d=e,document.getElementById("customerName").textContent=t,document.getElementById("deleteConfirmModal").classList.remove("hidden"),document.body.style.overflow="hidden"}function l(){d=null,document.getElementById("deleteConfirmModal").classList.add("hidden"),document.body.style.overflow="auto"}function m(){if(!d)return;const e=document.getElementById("confirmDeleteBtn"),t=document.getElementById("deleteButtonText"),o=document.getElementById("deleteSpinner");document.querySelectorAll("#cancelDeleteButton").forEach(n=>{n.disabled=!0}),e.disabled=!0,t.textContent="Deleting...",o.classList.remove("hidden"),document.getElementById(`delete-form-${d}`).submit()}document.addEventListener("keydown",function(e){e.key==="Escape"&&l()});
