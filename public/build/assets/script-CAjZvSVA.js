window.addEventListener("resize",function(){window.innerWidth>=1024&&(sidebarOverlay.classList.add("hidden"),document.body.classList.remove("overflow-hidden"))});let o=null;document.addEventListener("DOMContentLoaded",function(){u()});function u(){const e=document.querySelectorAll(".delete-division-btn"),t=document.querySelectorAll("#cancelDeleteButton");e.forEach(n=>{n.addEventListener("click",function(){const c=this.getAttribute("data-division-id"),s=this.getAttribute("data-division-name");r(c,s)})});const d=document.querySelector("#deleteConfirmModal .bg-gray-500");d&&d.addEventListener("click",l);const i=document.getElementById("confirmDeleteBtn");i&&i.addEventListener("click",a),t.forEach(n=>{n.addEventListener("click",l)})}function r(e,t){o=e,document.getElementById("divisionName").textContent=t,document.getElementById("deleteConfirmModal").classList.remove("hidden"),document.body.style.overflow="hidden"}function l(){o=null,document.getElementById("deleteConfirmModal").classList.add("hidden"),document.body.style.overflow="auto"}function a(){if(!o)return;const e=document.getElementById("confirmDeleteBtn"),t=document.getElementById("deleteButtonText"),d=document.getElementById("deleteSpinner");document.querySelectorAll("#cancelDeleteButton").forEach(n=>{n.disabled=!0}),e.disabled=!0,t.textContent="Deleting...",d.classList.remove("hidden"),document.getElementById(`delete-form-${o}`).submit()}document.addEventListener("keydown",function(e){e.key==="Escape"&&l()});
